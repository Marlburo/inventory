<script>
    $(document).ready(function(){
        console.log("We are here now.");
    });
</script>
<div id="ajax_results" width="100%">
<div id="meta">
    {% if meta.counts.soa %}
        {{ meta.counts.soa }} <a href="#q={{search}}&SOA">SOA</a> records |
    {% else %}
        zero SOA records |
    {% endif %}
    {% if meta.counts.addr %}
        {{ meta.counts.addr }} <a href="#q={{search}}&Address">A/AAAA</a> records |
    {% else %}
        zero A/AAAA records |
    {% endif %}
    {% if meta.counts.cname %}
        {{ meta.counts.cname }} <a href="#q={{search}}&CNAME">CNAME</a> records |
    {% else %}
        zero CNAME records |
    {% endif %}
    {% if meta.counts.domain %}
        {{ meta.counts.domain }} <a href="#q={{search}}&Domain">Domains</a> |
    {% else %}
        zero Domains |
    {% endif %}
    {% if meta.counts.intr %}
        {{ meta.counts.intr }} <a href="#q={{search}}&Interface">INTR</a> records |
    {% else %}
        zero INTR records |
    {% endif %}
    {% if meta.counts.sys %}
        {{ meta.counts.sys }} <a href="#q={{search}}&System">Systems</a> |
    {% else %}
        zero Systems |
    {% endif %}
    {% if meta.counts.mx %}
        {{ meta.counts.mx }} <a href="#q={{search}}&MX">MX</a> records |
    {% else %}
        zero MX records |
    {% endif %}
    {% if meta.counts.ns %}
        {{ meta.counts.ns }} <a href="#q={{search}}&NS">NS</a> records |
    {% else %}
        zero NS records |
    {% endif %}
    {% if meta.counts.ptr %}
        {{ meta.counts.ptr }} <a href="#q={{search}}&PTR">PTR</a> records |
    {% else %}
        zero PTR records |
    {% endif %}
    {% if meta.counts.txt %}
        {{ meta.counts.txt }} <a href="#q={{search}}&TXT">TXT</a> records
    {% else %}
        zero TXT records
    {% endif %}
</div>
<div id='search-time' style='margin-top: 2px;' >
</div>
<br/>
{% if sys %}
    <h4><a name="q={{search}}&System">Systems</a></h4>
    <table class="tablesorter system-table">
        <thead>
        <tr>
            <th>Hostname</th>
            <th>OOB</th>
            <th>Model</th>
            <th>Rack</th>
            <th>Serial</th>
            <th>Asset</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        {% for s in sys %}
        <tr>
            <td>{{ s.hostname }}</td>
            <td>{{ s.oob_ip }}</td>
            <td>{{ s.server_model if s.server_model_id else "" }}</td>
            <td>{{ s.system_rack if s.system_rack_id else "" }}</td>
            <td>{{ s.serial }}</td>
            <td>{{ s.asset_tag }}   </td>
            <td><a href='{{ s.get_absolute_url() }}'>View</a> <a href='{{ s.get_edit_url() }}'>Edit</a></td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
{% endif %}
{% if misc %}
    <table class="tablesorter">
        <thead>
        <tr>
            <th>Networks, Sites, and Vlans</th>
        </tr>
        </thead>
        <tbody>
        {% for object in misc %}
            <tr>
                <td><a href="{{ object.get_absolute_url() }}">{{ object }}</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endif %}


{% import 'record/draw_record_table.html' as drawer %}
{% if soas %}
    <h4><a name="q={{search}}&SOA">SOA</a></h4>
    {{ drawer.draw_record_table('SOA', soas, table_class='tablesorter record-table', table_id='soa-table') }}
{% endif %}

{% if domains %}
    <h4><a name="q={{search}}&Domain">Domains</a></h4>
    {{ drawer.draw_record_table('DOMAIN', domains, table_class='tablesorter record-table', table_id='domain-table') }}
{% endif %}

{% if nss %}
    <h4><a name="q={{search}}&Nameserver">Nameserver</a></h4>
    {{ drawer.draw_record_table('NS', nss, table_class='tablesorter record-table', table_id='ns-table') }}
{% endif %}

{% if mxs %}
    <h4><a name="q={{search}}&MX">MX</a> Records</h4>
    {{ drawer.draw_record_table('MX', mxs, table_class='tablesorter record-table', table_id='mx-table') }}
{% endif %}

{% if srvs %}
    <h4><a name="q={{search}}&SRV">SRV</a> Records</h4>
    {{ drawer.draw_record_table('SRV', srvs, table_class='tablesorter record-table', table_id='srv-table') }}
{% endif %}

{% if txts %}
    <h4><a name="q={{search}}&TXT">TXT</a> Records</h4>
    {{ drawer.draw_record_table('TXT', txts, table_class='tablesorter record-table', table_id='txt-table') }}
{% endif %}

{% if cnames %}
    <h4><a name="q={{search}}&CNAME">CNAME</a> Records</h4>
    {{ drawer.draw_record_table('CNAME', cnames, table_class='tablesorter record-table', table_id='cname-table') }}
{% endif %}

{% if intrs %}
    <h4><a name="q={{search}}&Interface">Interface</a> Records</h4>
    {{ drawer.draw_record_table('INTR', intrs, table_class='tablesorter intr-table', table_id='intr-table') }}
{% endif %}

{% if addrs %}
<h4><a id="q={{search}}&Address">Address</a> Records</h4>
    {{ drawer.draw_record_table('A', addrs, table_class='tablesorter addr-table', table_id='addr-table') }}
{% endif %}

{% if ptrs %}
    <h4><a name="q={{search}}&PTR">PTR</a> Records</h4>
    {{ drawer.draw_record_table('PTR', ptrs, table_class='tablesorter ptr-table', table_id='ptr-table') }}
{% endif %}
</div>
